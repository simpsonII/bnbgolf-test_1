<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B&B GOLF - 견적 문의</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // https://dashboard.emailjs.com/admin/account 에서 확인 가능
            emailjs.init("-bO9DSJLrNsrZRs4t"); // 여기에 본인의 Public Key를 입력하세요
        })();
    </script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .font-eng { font-family: 'Montserrat', sans-serif; }
        
        /* Custom Checkbox Style */
        .custom-checkbox:checked + div {
            background-color: #2563eb;
            border-color: #2563eb;
        }
        .custom-checkbox:checked + div svg {
            display: block;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased">

    <!-- Simple Header -->
    <header class="fixed w-full z-50 top-0 bg-slate-900 border-b border-slate-700 py-6">
        <div class="max-w-3xl mx-auto px-6 flex justify-between items-center">
            <!-- Logo (Click to go back home) -->
            <a href="index.html" class="flex items-center gap-2 group">
                <div class="w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white font-bold group-hover:bg-blue-500 transition">B</div>
                <span class="font-eng font-bold text-2xl text-white tracking-wider">B&B <span class="text-blue-500 group-hover:text-blue-400 transition">GOLF</span></span>
            </a>
            <a href="index.html" class="text-slate-400 hover:text-white text-sm flex items-center gap-2 transition">
                <i class="fas fa-arrow-left"></i> 메인으로 돌아가기
            </a>
        </div>
    </header>

    <!-- Content -->
    <main class="pt-32 pb-16 px-6">
        <div class="max-w-3xl mx-auto">
            <div class="text-center mb-12">
                <span class="text-blue-600 font-bold tracking-widest text-sm uppercase">Quote Request</span>
                <h1 class="text-3xl md:text-4xl font-black text-slate-900 mt-2 mb-4">맞춤 견적 문의</h1>
                <p class="text-slate-500">
                    상세한 정보를 입력해주시면 담당자가 빠르게 검토 후 연락드립니다.<br>
                    대량 구매 및 시공 문의는 별도 상담이 가능합니다.
                </p>
            </div>

            <!-- Form ID Added for EmailJS, enctype added for file upload -->
            <form id="contact-form" class="space-y-8 bg-white p-8 md:p-10 rounded-2xl shadow-xl border border-slate-200" enctype="multipart/form-data" onsubmit="sendEmail(event)">
                
                <!-- Section 1: Customer Info -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2 pb-2 border-b border-slate-100">
                        <span class="w-6 h-6 bg-slate-900 text-white rounded-full flex items-center justify-center text-xs">1</span>
                        신청자 정보
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">담당자 성함 <span class="text-red-500">*</span></label>
                            <!-- name="from_name" added -->
                            <input type="text" name="from_name" placeholder="홍길동" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">연락처 <span class="text-red-500">*</span></label>
                            <!-- name="contact_number" added -->
                            <input type="tel" name="contact_number" placeholder="010-1234-5678" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-bold text-slate-700 mb-2">이메일 <span class="text-red-500">*</span></label>
                            <!-- name="from_email" added -->
                            <input type="email" name="from_email" placeholder="example@naver.com" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-bold text-slate-700 mb-2">업체명 <span class="text-red-500">*</span></label>
                            <!-- name="company_name" added -->
                            <input type="text" name="company_name" placeholder="업체명을 입력해주세요" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition">
                        </div>
                        
                        <!-- File Uploads -->
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">업체 명함 첨부</label>
                            <!-- name="file1" added, accept added for images/pdf -->
                            <input type="file" name="file1" accept="image/*, application/pdf" class="block w-full text-sm text-slate-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition border border-slate-300 rounded-lg bg-white">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">사업자 등록증 사본</label>
                            <!-- name="file2" added, accept added for images/pdf -->
                            <input type="file" name="file2" accept="image/*, application/pdf" class="block w-full text-sm text-slate-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition border border-slate-300 rounded-lg bg-white">
                        </div>
                    </div>
                </div>

                <!-- Section 2: Installation Info -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2 pb-2 border-b border-slate-100">
                        <span class="w-6 h-6 bg-slate-900 text-white rounded-full flex items-center justify-center text-xs">2</span>
                        설치 장소 정보
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">설치 지역</label>
                            <div class="relative">
                                <!-- name="region" added -->
                                <select name="region" class="w-full bg-slate-50 border border-slate-200 text-slate-700 py-3.5 px-4 rounded-xl appearance-none focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all cursor-pointer font-medium">
                                    <option value="" disabled selected>지역을 선택해주세요</option>
                                    <option value="서울">서울</option>
                                    <option value="경기/인천">경기/인천</option>
                                    <option value="충청/대전">충청/대전</option>
                                    <option value="전라/광주">전라/광주</option>
                                    <option value="경상/부산/대구">경상/부산/대구</option>
                                    <option value="강원">강원</option>
                                    <option value="제주">제주</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500">
                                    <i class="fas fa-chevron-down text-xs"></i>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-slate-700 mb-2">장소 유형</label>
                            <div class="relative">
                                <!-- name="place_type" added -->
                                <select name="place_type" class="w-full bg-slate-50 border border-slate-200 text-slate-700 py-3.5 px-4 rounded-xl appearance-none focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all cursor-pointer font-medium">
                                    <option value="" disabled selected>장소 유형을 선택해주세요</option>
                                    <option value="상업용 스크린골프장">상업용 스크린골프장</option>
                                    <option value="실내 골프 연습장 (GDR 등)">실내 골프 연습장 (GDR 등)</option>
                                    <option value="아파트 커뮤니티 센터">아파트 커뮤니티 센터</option>
                                    <option value="개인 주택/별장">개인 주택/별장</option>
                                    <option value="사내 복지 시설">사내 복지 시설</option>
                                    <option value="기타">기타</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500">
                                    <i class="fas fa-chevron-down text-xs"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Product & Quantity -->
                <div>
                    <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2 pb-2 border-b border-slate-100">
                        <span class="w-6 h-6 bg-slate-900 text-white rounded-full flex items-center justify-center text-xs">3</span>
                        제품 선택
                    </h3>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 mb-6">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4">
                            <div>
                                <h4 class="font-bold text-slate-900">B&B골프 벙커매트</h4>
                                <p class="text-xs text-slate-500">국내 특허 기술로 완성된 B&B골프 벙커매트</p>
                            </div>
                            <div class="flex items-center gap-2 bg-white rounded-lg border border-slate-300 p-1">
                                <button type="button" onclick="adjustCount(-1)" class="w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-slate-100 rounded transition">-</button>
                                <!-- name="quantity" added -->
                                <input type="number" id="productCount" name="quantity" value="1" min="1" class="w-12 text-center font-bold text-slate-900 outline-none">
                                <button type="button" onclick="adjustCount(1)" class="w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-slate-100 rounded transition">+</button>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center pt-4 border-t border-slate-200">
                            <span class="text-sm text-slate-500"></span>
                            <span class="text-xl font-black text-blue-600" id="totalPrice">견적 문의 후 확인 가능</span>
                        </div>
                        <p class="text-xs text-slate-400 text-right mt-1">* 대량 구매 시 특별 단가가 적용될 수 있습니다.</p>
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-2">기타 문의사항 (비규격 사이즈 등)</label>
                        <!-- name="message" added -->
                        <textarea name="message" rows="3" placeholder="원하시는 사이즈나 특별한 요청사항이 있다면 적어주세요." class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition resize-none"></textarea>
                    </div>
                </div>

                <!-- Privacy & Submit -->
                <div class="pt-4">
                    <label class="flex items-center gap-3 cursor-pointer group">
                        <input type="checkbox" id="privacy-check" class="hidden custom-checkbox">
                        <div class="w-5 h-5 border-2 border-slate-300 rounded flex items-center justify-center transition group-hover:border-blue-400 bg-white">
                            <svg class="w-3 h-3 text-white hidden pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                        <span class="text-sm text-slate-600 select-none">개인정보 수집 및 이용에 동의합니다.</span>
                    </label>
                </div>

                <!-- Type changed to submit, id added for loading state -->
                <button type="submit" id="submit-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl text-lg shadow-lg hover:shadow-blue-500/30 transition transform hover:-translate-y-1">
                    견적 문의하기
                </button>

            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white py-12 border-t border-slate-800">
        <div class="max-w-3xl mx-auto px-6 text-center">
            <div class="flex justify-center items-center gap-2 mb-4">
                <div class="w-6 h-6 bg-white rounded flex items-center justify-center text-slate-900 text-xs font-bold">B</div>
                <span class="font-eng font-bold text-xl">B&B GOLF</span>
            </div>
            <p class="text-slate-400 text-sm mb-6">
                고객센터: 010-2671-2022 | 이메일: ghdtjrwns911@naver.com<br>
                평일 09:00 - 18:00 (주말 및 공휴일 휴무)
            </p>
            <p class="text-slate-600 text-xs">© 2013 B&B GOLF Company. All rights reserved.</p>
        </div>
    </footer>

    <!-- Script for Calculation & EmailJS -->
    <script>
        function adjustCount(change) {
            const input = document.getElementById('productCount');
            let newValue = parseInt(input.value) + change;
            if (newValue < 1) newValue = 1;
            input.value = newValue;
        }

        // EmailJS Submission Function
        function sendEmail(e) {
            e.preventDefault(); // 기본 폼 제출 방지

            // 개인정보 동의 체크 확인
            const privacyCheck = document.getElementById('privacy-check');
            if (!privacyCheck.checked) {
                alert('개인정보 수집 및 이용에 동의해주세요.');
                return;
            }

            const btn = document.getElementById('submit-btn');
            const originalText = btn.innerText;
            btn.innerText = '전송 중...';
            btn.disabled = true;

            // EmailJS sendForm
            // YOUR_SERVICE_ID, YOUR_TEMPLATE_ID를 본인 계정 정보로 바꿔주세요
            emailjs.sendForm('service_pfadoiv', 'template_tnl0uv8   ', '#contact-form')
                .then(function() {
                    alert('견적 문의가 정상적으로 접수되었습니다.\n담당자가 확인 후 24시간 이내에 연락드리겠습니다.');
                    btn.innerText = originalText;
                    btn.disabled = false;
                    document.getElementById('contact-form').reset(); // 폼 초기화
                }, function(error) {
                    alert('메일 전송에 실패했습니다. 다시 시도해주세요.\n에러 내용: ' + JSON.stringify(error));
                    btn.innerText = originalText;
                    btn.disabled = false;
                });
        }

        /* [EmailJS 대시보드 템플릿 설정 가이드]
        이메일을 올바르게 수신하고 첨부파일을 확인하기 위해, 
        EmailJS 대시보드(Email Templates)에서 아래와 같이 설정해주세요.

        1. 제목 (Subject):
           [견적문의] {{from_name}}님 ({{company_name}})의 견적 요청입니다.

        2. 내용 (Content):
           1. 신청자 정보
           - 성함: {{from_name}}
           - 연락처: {{contact_number}}
           - 이메일: {{from_email}}
           - 업체명: {{company_name}}

           2. 설치 장소 정보
           - 지역: {{region}}
           - 장소 유형: {{place_type}}

           3. 제품 정보
           - 수량: {{quantity}}개
           - 예상 견적가: (문의 후 확인)

           4. 문의 사항
           {{message}}

           * 첨부파일(명함, 사업자등록증)은 이메일 하단의 첨부파일 영역에 자동으로 포함됩니다.
           (단, EmailJS 서비스 설정에서 파일 첨부 기능이 활성화되어 있어야 합니다.)
        */
    </script>

</body>
</html>
